{"version":3,"sources":["scripts/app.js"],"names":["angular","module","StoryController","story","$stateParams","vm","this","id","getStoryById","$inject","controller","MainController","cards","cardsRepo","float","items","i","length","cardsSection","tempCards","j","card","image","Math","floor","random","object","className","push","webDevTec","getTec","data","title","url","description","logo","service","storyBlock","directive","restrict","templateUrl","scope","controllerAs","bindToController","storiesBlock","StoriesController","stories","background","background-image","QuoteBlock","QuoteController","quote","$window","$document","$timeout","elem","cardsInView","viewHeight","max","documentElement","clientHeight","innerHeight","parallax","element","itemPos","getBoundingClientRect","elBackgroundPos","top","style","backgroundPosition","startParallax","item","find","on","event","isInView","currentTarget","splice","indexOf","bind","acmeNavbar","NavbarController","moment","relativeDate","creationDate","fromNow","$log","wasCalled","setInfoPosition","maxWidth","hasClass","position","left","addClass","mason","itemSelector","ratio","promoted","columns","filler","filler_class","gutter","layout","$media","link","debouncer","func","timeout","timeoutID","args","arguments","clearTimeout","setTimeout","apply","Array","prototype","slice","call","crop","jqImage","imageCopy","canvas","ctx","getContext","img","setAttribute","src","onload","height","heightSm","outerHeight","width","widthSm","outerWidth","query","isSmall","isLeft","isBottom","save","beginPath","moveTo","lineTo","closePath","clip","removeClass","drawImage","restore","css","toDataURL","$parent","$resource","api","get","getAll","Media","$rootScope","shortcuts","tablet","screen-xs","screen-sm","screen-md","screen-ld","shortcut","raw","raw_query","value","matchMedia","matches","onresize","$apply","factory","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","malarkey","$logProvider","toastrConfig","$httpProvider","$locationProvider","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$cookies","injector","invoke","_$cookies_","defaults","headers","post","X-CSRFToken","Content-Type","html5Mode","$templateCache","put"],"mappings":"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","file":"scripts/app-60a4985f46.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('lhr70', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .controller('StoryController', StoryController);\n\n  /** @ngInject */\n  function StoryController(story, $stateParams) {\n    var vm = this;\n\n    var id = $stateParams.id;\n\n    vm.story = story.getStoryById(id);\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController() {\n    var vm = this;\n\n    vm.cards = [];\n\n    //= story.getAll();\n\n    var cardsRepo = [{float:'left',items:[\"lg\", \"sm\", \"sq\"]}, {float:'right',items:[\"lg\", \"sm\", \"sq\"]}, {float:'right' ,items:[\"sq\", \"sm\"]},{float:'left' ,items:[\"lg\", \"sm\", \"sq\"]},{float:'right',items:[\"lg\", \"sm\", \"sq\"]}];\n\n    for (var i = 0; i < cardsRepo.length; i++) {\n      var cardsSection = cardsRepo[i].items;\n      var tempCards = [];\n\n      for (var j = 0; j < cardsSection.length; j++) {\n        var card = cardsSection[j];\n\n        var image = 'https://unsplash.it/600?image=' + Math.floor((Math.random() * 100) + 1);\n\n        if (card == \"sq\") {\n          image = \"\";\n        }\n\n        var object = {\n          id: i,\n          className: card,\n          image: image\n        };\n        tempCards.push(object);\n      }\n\n      var cards = {items: tempCards, float: cardsRepo[i].float};\n\n      vm.cards.push(cards);\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n      .module('lhr70')\n      .service('webDevTec', webDevTec);\n\n  /** @ngInject */\n  function webDevTec() {\n    var data = [\n      {\n        'title': 'AngularJS',\n        'url': 'https://angularjs.org/',\n        'description': 'HTML enhanced for web apps!',\n        'logo': 'angular.png'\n      },\n      {\n        'title': 'BrowserSync',\n        'url': 'http://browsersync.io/',\n        'description': 'Time-saving synchronised browser testing.',\n        'logo': 'browsersync.png'\n      },\n      {\n        'title': 'GulpJS',\n        'url': 'http://gulpjs.com/',\n        'description': 'The streaming build system.',\n        'logo': 'gulp.png'\n      },\n      {\n        'title': 'Jasmine',\n        'url': 'http://jasmine.github.io/',\n        'description': 'Behavior-Driven JavaScript.',\n        'logo': 'jasmine.png'\n      },\n      {\n        'title': 'Karma',\n        'url': 'http://karma-runner.github.io/',\n        'description': 'Spectacular Test Runner for JavaScript.',\n        'logo': 'karma.png'\n      },\n      {\n        'title': 'Protractor',\n        'url': 'https://github.com/angular/protractor',\n        'description': 'End to end test framework for AngularJS applications built on top of WebDriverJS.',\n        'logo': 'protractor.png'\n      },\n      {\n        'title': 'Sass (Node)',\n        'url': 'https://github.com/sass/node-sass',\n        'description': 'Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.',\n        'logo': 'node-sass.png'\n      }\n    ];\n\n    this.getTec = getTec;\n\n    function getTec() {\n      return data;\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .directive('storyBlock', storyBlock);\n\n  /** @ngInject */\n  function storyBlock() {\n    var directive = {\n      restrict: 'EA',\n      templateUrl: 'app/components/story/story.directive.html',\n      scope: {\n        story: '='\n      },\n      controller: StoryController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    /** @ngInject */\n    function StoryController() {\n    }\n\n    return directive;\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .directive('storiesBlock', storiesBlock);\n\n  /** @ngInject */\n  function storiesBlock() {\n    var directive = {\n      restrict: 'EA',\n      templateUrl: 'app/components/stories/stories.directive.html',\n      scope: {\n        cards: '='\n      },\n      controller: StoriesController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    /** @ngInject */\n    function StoriesController() {\n      var vm = this;\n      for (var i = 0; i < vm.cards.length; i++) {\n        var stories = vm.cards[i].items;\n        for (var j = 0; j < stories.length; j++) {\n          var story = stories[j];\n          if (story.className == 'sq') {\n            story.background = \"\";\n          } else {\n            story.background = {'background-image': 'url(' + story.image + ')'};\n          }\n        }\n      }\n    }\n\n    return directive;\n  }\n})();\n\n\n\n(function () {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .directive('quoteBlock', QuoteBlock);\n\n  /** @ngInject */\n  function QuoteBlock() {\n    var directive = {\n      restrict: 'EA',\n      templateUrl: 'app/components/quote/quote.directive.html',\n      scope: {\n        quote: '='\n      },\n      controller: QuoteController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    /** @ngInject */\n    function QuoteController() {\n\n    }\n\n    return directive;\n  }\n})();\n\n/**\n * @ngdoc directive\n * @name lhr70:parallaxDirective\n *\n * @description\n *\n *\n * @restrict A\n * */\nangular.module('lhr70')\n  .directive('cardParallax', function ($window, $document, $timeout) {\n    return function (scope, elem) {\n      var cardsInView = [];\n      var viewHeight = Math.max($document[0].documentElement.clientHeight, $window.innerHeight);\n      var parallax = function (element) {\n        var itemPos = element.getBoundingClientRect(),\n          elBackgroundPos = (itemPos.top / viewHeight) * 60;\n        element.style.backgroundPosition = \"50% \" + elBackgroundPos + \"%\";\n\n      };\n      var startParallax = function (cards) {\n        for (var i = 0; i < cards.length; i++) {\n          var item = cards[i];\n          parallax(item);\n        }\n      };\n      $timeout(function () {\n        var cards = angular.element(elem).find('.card');\n        for (var i = 0; i < cards.length; i++) {\n          var card = cards[i];\n          angular.element(card).on('inview', function (event, isInView) {\n            if (isInView) {\n              cardsInView.push(event.currentTarget);\n            } else {\n              cardsInView.splice(cardsInView.indexOf(event.currentTarget), 1);\n            }\n          });\n        }\n        $document.bind('scroll', function () {\n          if (cardsInView.length)\n            startParallax(cardsInView);\n        });\n      }, 0);\n\n    }\n  });\n\n(function() {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .directive('navbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creationDate\" is available by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n/**\n * @ngdoc directive\n * @name lhr70:masonDirective\n *\n * @description\n *\n *\n * @restrict A\n * */\nangular.module('lhr70')\n  .directive('masonaryGrid', function ($log, $timeout) {\n     return function (scope, elem) {\n        var wasCalled = false;\n\n        var setInfoPosition = function () {\n          if (!wasCalled) {\n            wasCalled = true;\n\n            $timeout(function () {\n              var stories = angular.element(\".card\");\n              for (var i = 0; i < stories.length; i++) {\n                var story = angular.element(stories[i]);\n\n                var maxWidth = 450;\n\n                if(story.hasClass('lg')) {\n                  maxWidth = 100;\n                }\n\n                if (story.position().left > maxWidth) {\n                  story.addClass('right');\n                } else {\n                  story.addClass('left');\n                }\n\n                if (i === 0 || !!(i && !(i%2))) {\n                  story.addClass('top');\n                } else {\n                  story.addClass('bottom');\n                }\n              }\n\n             // console.time('story loop');\n              //imageCropper(stories[0]);\n              //imageCropper(stories[1]);\n              //imageCropper(stories[3]);\n              //imageCropper(stories[4]);\n\n              //console.timeEnd('story loop');\n\n            }, 50);\n          }\n        };\n       $timeout(function () {\n\n        angular.element(elem).mason({\n          itemSelector: '.card',\n          ratio: 1,\n          promoted: [\n            ['lg', 6.9, 6],\n            ['md', 5.5, 4],\n            ['sm', 5, 4],\n            ['sq', 4, 4]\n          ],\n          columns: [\n            [0, 767, 1],\n            [768, 1680, 12]\n          ],\n          filler: {\n            itemSelector: '.filler',\n            filler_class: 'mason-filler'\n          },\n          gutter: 5,\n          layout: 'fluid'\n        }, setInfoPosition)\n       },0);\n      }\n    });\n\n\n/*eslint-disable */\n//\n//\n//var addParallax = function () {\n//  var parallaxItems = function () {\n//    var items = document.querySelectorAll(\".parallax\"),\n//      viewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight);\n//    for (var i = 0; i < items.length; i++) {\n//      parallax(items[i], viewHeight);\n//    }\n//  };\n//  var parallax = function (element, viewHeight) {\n//    var itemPos = element.getBoundingClientRect(),\n//      isVisable = !(itemPos.bottom < 0 || itemPos.top - viewHeight >= 0),\n//      elBackgrounPos = 0;\n//\n//    if (isVisable) {\n//      elBackgrounPos = (itemPos.top / viewHeight) * 40;\n//      element.style.backgroundPosition = \"50% \" + elBackgrounPos + \"%\";\n//    }\n//  };\n//}\n//var imageCropper = function (image) {\n//\n//  var jqImage = $(image);\n//  var imageCopy = jqImage.find(\".story--copy\");\n//  imageCopy.addClass('bg-transparent');\n//  var canvas = document.createElement('canvas');\n//  var ctx = canvas.getContext('2d');\n//  var originalBg = jqImage.data('originalBg');\n//  if(originalBg) {\n//    bi = originalBg;\n//  } else {\n//    var style = image.currentStyle || window.getComputedStyle(image, false),\n//      bi = style.backgroundImage\n//        .slice(4, -1).replace(/\"/g, \"\");\n//    jqImage.data('originalBg', bi);\n//  }\n//  var img = document.createElement('IMG');\n//  img.setAttribute('crossOrigin', 'anonymous');\n//  img.src = bi;\n//\n//  // When the image is loaded, draw it\n//  img.onload = function () {\n//    var height = img.height;\n//    var heightSm = imageCopy.outerHeight();\n//    var width = img.width;\n//    var widthSm = imageCopy.outerWidth();\n//    if (jqImage.hasClass('sm')) {\n//      heightSm = heightSm * 1.6;\n//      widthSm = widthSm * 1.6;\n//    } else {\n//      heightSm = heightSm * 1.25;\n//      widthSm = widthSm * 1.25;\n//    }\n//\n//    canvas.height = height;\n//    canvas.width = width;\n//\n//    // Save the state, so we can undo the clipping\n//    ctx.save();\n//    ctx.beginPath();\n//    if (jqImage.hasClass('left')) {\n//      ctx.moveTo(0, heightSm);\n//      ctx.lineTo(widthSm, heightSm);\n//      ctx.lineTo(widthSm, 0);\n//      ctx.lineTo(width, 0);\n//      ctx.lineTo(width, height);\n//      ctx.lineTo(0, height);\n//    } else {\n//      ctx.moveTo(width, heightSm);\n//      ctx.lineTo(widthSm, heightSm);\n//      ctx.lineTo(widthSm, 0);\n//      ctx.lineTo(0, 0);\n//      ctx.lineTo(0, height);\n//      ctx.lineTo(width, height);\n//    }\n//\n//    ctx.closePath();\n//    //ctx.stroke();\n//\n//    // Clip to the current path\n//    ctx.clip();\n//\n//    ctx.drawImage(img, 0, 0);\n//\n//    // Undo the clipping\n//    ctx.restore();\n//\n//    jqImage.css('backgroundImage',\n//      \"url('\" + canvas.toDataURL(\"image/png\") + \"')\");\n//  };\n//\n//  var toResize = {\n//    lastWidth: jqImage.width(),\n//    element: jqImage\n//  };\n//  if($.inArray(toResize,itemsToResize) != -1) {\n//    itemsToResize.push(toResize);\n//  }\n//};\n//\n//function debouncer( func , timeout ) {\n//  var timeoutID , timeout = timeout || 600;\n//  return function () {\n//    var scope = this , args = arguments;\n//    clearTimeout( timeoutID );\n//    timeoutID = setTimeout( function () {\n//      func.apply( scope , Array.prototype.slice.call( args ) );\n//    } , timeout );\n//  }\n//}\n//\n//var itemsToResize = [];\n//$( window ).resize(debouncer (function() {\n//  console.time(\"Resize\");\n//  for (var i = 0; i < itemsToResize.length; i++) {\n//    var card = itemsToResize[i];\n//    if(card.lastWidth != card.element.width()) {\n//      imageCropper(card.element);\n//    }\n//  }\n//  console.timeEnd(\"Resize\");\n//}));\n//\n//$(document).ready(function () {\n//  setTimeout(function () {\n//    var jigGrid = $(\".jig-grid \");\n//    jigGrid.each(function (k, section) {\n//      $(section).mason({\n//        itemSelector: '.card',\n//        ratio: 1,\n//        promoted: [\n//          ['lg', 6.9, 6],\n//          ['md', 5.5, 4],\n//          ['sm', 5, 4],\n//          ['sq', 4, 4]\n//        ],\n//        columns: [\n//          [0, 767, 1],\n//          [768, 1680, 12]\n//        ],\n//        filler: {\n//          itemSelector: '.filler',\n//          filler_class: 'mason-filler'\n//        },\n//        gutter: 5,\n//        layout: 'fluid'\n//      }, setInfoPosition);\n//    });\n//\n//    addParallax.parallaxItems();\n//    window.onscroll = function () {\n//      addParallax.parallaxItems();\n//    };\n//  }, 1000);\n//});\n//\n\n\n/*eslint-enable */\n\n/**\n * @ngdoc directive\n * @name lhr70:imageCropperDirective\n *\n * @description\n *\n *\n * @restrict A\n * */\nangular.module('lhr70')\n  .directive('imageCropper', function ($window, $document, $timeout, $media) {\n    return {\n      restrict: 'A',\n      link: function (scope, elem) {\n\n        var debouncer = function (func, timeout) {\n          var timeoutID;\n          timeout = timeout || 600;\n          return function () {\n            var scope = this, args = arguments;\n            clearTimeout(timeoutID);\n            timeoutID = setTimeout(function () {\n              func.apply(scope, Array.prototype.slice.call(args));\n            }, timeout);\n          }\n        };\n\n        var crop = function () {\n          var jqImage = angular.element(elem);\n          var imageCopy = jqImage.find(\".story--copy\");\n          var canvas = angular.element('<canvas></canvas>')[0];\n          var ctx = canvas.getContext('2d');\n          var img = angular.element('<img></img>')[0];\n          img.setAttribute('crossOrigin', 'anonymous');\n          img.src = scope.card.image;\n\n          // When the image is loaded, draw it\n          img.onload = function () {\n            var height = img.height;\n            var heightSm = imageCopy.outerHeight();\n            var width = img.width;\n            var widthSm = imageCopy.outerWidth();\n\n            canvas.height = height;\n            canvas.width = width;\n\n\n            if ($media.query('tablet')) { // is at least table in portrait mode\n              var isSmall = jqImage.hasClass('sm');\n              var isLeft = jqImage.hasClass('left');\n              var isBottom = jqImage.hasClass('bottom');\n              imageCopy.addClass('bg-transparent');\n\n              if (isBottom) {\n                heightSm = jqImage.height() - heightSm - 20;\n                if (!isSmall) {\n                  heightSm = heightSm - 50;\n                }\n              }\n\n              if (isSmall) {\n                heightSm = heightSm * 1.5;\n                if (isLeft) {\n                  widthSm = widthSm * 1.2;\n                } else {\n                  if ($media.query('screen-sm')) {\n                    widthSm = widthSm * 2.5;\n                  } else if ($media.query('screen-md')) {\n                    widthSm = widthSm * 2;\n                  } else {\n                    widthSm = widthSm * 1.8;\n                  }\n                }\n              } else {\n                if ($media.query('screen-sm')) {\n                  widthSm = widthSm * 0.4;\n                  heightSm = heightSm * 0.8;\n                }  else if ($media.query('screen-md')) {\n                  widthSm = widthSm * 0.9;\n                  heightSm = heightSm * 1.3;\n                } else {\n                  widthSm = widthSm * 0.8;\n                  heightSm = heightSm * 1;\n                }\n\n                heightSm = heightSm * 1.3;\n              }\n\n\n              // Save the state, so we can undo the clipping\n              ctx.save();\n              ctx.beginPath();\n              if (isLeft) {\n                if (isBottom) {\n                  ctx.moveTo(0, 0);\n                  ctx.lineTo(width, 0);\n                  ctx.lineTo(width, height);\n                  ctx.lineTo(widthSm, height);\n                  ctx.lineTo(widthSm, heightSm);\n                  ctx.lineTo(0, heightSm);\n                } else {\n                  ctx.moveTo(0, heightSm);\n                  ctx.lineTo(widthSm, heightSm);\n                  ctx.lineTo(widthSm, 0);\n                  ctx.lineTo(width, 0);\n                  ctx.lineTo(width, height);\n                  ctx.lineTo(0, height);\n                }\n              } else {\n                if (isBottom) {\n                  ctx.moveTo(0, 0);\n                  ctx.lineTo(width, 0);\n                  ctx.lineTo(width, heightSm);\n                  ctx.lineTo(widthSm, heightSm);\n                  ctx.lineTo(widthSm, height);\n                  ctx.lineTo(0, height);\n                } else {\n                  ctx.moveTo(width, heightSm);\n                  ctx.lineTo(widthSm, heightSm);\n                  ctx.lineTo(widthSm, 0);\n                  ctx.lineTo(0, 0);\n                  ctx.lineTo(0, height);\n                  ctx.lineTo(width, height);\n                }\n              }\n\n              ctx.closePath();\n              //ctx.stroke();\n\n              // Clip to the current path\n              ctx.clip();\n            } else {\n              imageCopy.removeClass('bg-transparent');\n            }\n            ctx.drawImage(img, 0, 0);\n\n            // Undo the clipping\n            ctx.restore();\n\n            jqImage.css('backgroundImage',\n              \"url('\" + canvas.toDataURL(\"image/png\") + \"')\");\n          };\n        };\n\n        $timeout(function () {\n          if (scope.$parent.i == 0 && scope.j < 5) {\n            crop();\n            angular.element($window).bind('resize', debouncer(function () {\n              crop();\n            }, 50));\n          }\n        }, 200);\n\n\n      }\n    };\n  });\n\n(function() {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .service('story', story);\n\n  /** @ngInject */\n  function story($resource) {\n\n    var api = $resource('/api/story/:id');\n\n    return {\n      getStoryById: function (id) {\n        return api.get({id:id});\n      },\n      getAll:  function () {\n        return api.query();\n      }\n    };\n\n    //\n    //this.story = [{\n    //  title: \"I went to New York\",\n    //  arrival: \"LHR\",\n    //  departure: \"NYC\"\n    //}];\n    //\n    //\n    //\n    //this.getStory = function (id) {\n    //  return this.story[id];\n    //};\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .service('$media', $media)\n    .factory('Media', Media);\n\n  /** @ngInject */\n  function $media(Media, $rootScope, $window) {\n    var shortcuts = {\n      'tablet': '(min-width: 768px)',\n      'screen-xs': '(max-width:767px)',\n      'screen-sm': '(min-width:768px) and (max-width:991px)',\n      'screen-md': '(min-width:992px) and (max-width:1199px)',\n      'screen-ld': '(min-width:1200px)'\n    };\n\n    return {\n      query: function (shortcut) {\n        return this.raw(shortcuts[shortcut]);\n      },\n      raw: function (raw_query) {\n        Media.value = $window.matchMedia(raw_query).matches;\n        $window.onresize = function () {\n          Media.value = $window.matchMedia(raw_query).matches;\n          $rootScope.$apply();\n        };\n        return Media.value;\n      }\n    }\n  }\n\n\n  function Media() {\n    return {};\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($rootScope, $media) {\n    $rootScope.$media = $media;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/pages/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      })\n      .state('story', {\n        url: '/story/:id',\n        templateUrl: 'app/pages/story/story.html',\n        controller: 'StoryController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('lhr70')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, $httpProvider, $locationProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n    //service cannot be injected into a config or something\n    var $cookies;\n    angular.injector(['ngCookies']).invoke(['$cookies', function(_$cookies_) {\n      $cookies = _$cookies_;\n    }]);\n\n    // CSFR token for Django\n    $httpProvider.defaults.headers.post  = {\n      'X-CSRFToken': $cookies.get('csrftoken'),\n      'Content-Type': 'application/json'\n    };\n\n    $locationProvider.html5Mode(true);\n\n\n\n  }\n\n})();\n\nangular.module(\"lhr70\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/components/herobox/herobox.html\",\"<div class=logo-box><img src=/assets/images/heath70_logo.png alt=\\\"70th anniversary logo\\\"></div><div class=hero-box><div class=hero-box--text><div class=hero-box--text-sm>This year we\\'re celebrating 70 years of beautful journeys.</div><div class=hero-box--text-sm>Taking the world to family reunions, new careers & even coronations,</div><h1 class=hero-box--text-lg>Where has Heathrow taken you?</h1><div class=hero-box--text-sm>Add your story and we\\'ll give you a birthday gift</div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=navbar><a class=\\\"bg-gradient-lhr no-pad\\\" href=/ ></a><!--<h1 class=\\\"icons-logo header-logo&#45;&#45;position\\\">Heathrow</h1>--><div class=heading-spacer>&nbsp;</div><!--<ul class=\\\"menu\\\">--><!--<li class=\\\"active menu-link\\\"><a ng-href=\\\"#\\\">Home</a></li>--><!--<li class=\\\"menu-link\\\"><a ng-href=\\\"#\\\">About</a></li>--><!--<li class=\\\"menu-link\\\"><a ng-href=\\\"#\\\">Contact</a></li>--><!--</ul>--></nav>\");\n$templateCache.put(\"app/components/quote/quote.directive.html\",\"<div class=quote><div class=quote--copy><blockquote class=quote-marks></blockquote><div class=\\\"lg-text text-capitalize\\\">In 1978 I flew from heathrow to new york for a job interview. I didn\\'t get the job but i met my wife on the flight home.</div></div></div>\");\n$templateCache.put(\"app/components/stories/stories.directive.html\",\"<div ng-repeat=\\\"(i, modules) in vm.cards track by $index\\\" card-parallax masonary-grid class=jig-grid ng-class=modules.float><div ng-repeat=\\\"(j, card) in modules.items\\\" class=card image-cropper=[i,j] ng-class=card.className ng-style=card.background><story-block story=card ng-if=\\\"card.className!=\\'sq\\'\\\"><quote-block quote=card ng-if=\\\"card.className==\\'sq\\'\\\"></div></div>\");\n$templateCache.put(\"app/components/story/story.directive.html\",\"<div class=story--copy><div class=story--from>LHR</div><div ng-if=\\\"vm.story.className == \\'lg\\'\\\"><div class=story--headline>To conquer the mountain</div></div><div ng-if=\\\"vm.story.className == \\'sm\\'\\\"><div class=story--headline>To Marry my wife</div></div></div><!--<div class=\\\"filler\\\"></div>-->\");\n$templateCache.put(\"app/pages/main/main.html\",\"<navbar></navbar><ng-include src=\\\"\\'app/components/herobox/herobox.html\\'\\\"></ng-include><stories-block cards=main.cards></stories-block>\");\n$templateCache.put(\"app/pages/story/story.html\",\"<div class=cards><story-block class=card story=main.story></story-block></div><!--<div class=\\\"container\\\">--><!--<div>--><!--<acme-navbar></acme-navbar>--><!--</div>--><!--&lt;!&ndash; HTML markup for the section right below this code block &ndash;&gt;--><!--<section>--><!--<aside>What is it about?</aside>--><!--<article>Neat is an open source semantic grid framework built on top of Sass and Bourbon…</article>--><!--</section>--><!--<div class=\\\"jumbotron\\\">--><!--<h1>\\'Allo, \\'Allo!</h1>--><!--<p class=\\\"lead\\\">--><!--<img src=\\\"assets/images/yeoman.png\\\" alt=\\\"I\\'m Yeoman\\\"><br>--><!--Always a pleasure scaffolding your apps.--><!--</p>--><!--<p class=\\\"animated infinite\\\" ng-class=\\\"main.classAnimation\\\">--><!--<a class=\\\"btn btn-lg btn-success\\\" ng-click=\\\"main.showToastr()\\\">Splendid Toastr</a>--><!--</p>--><!--<p>--><!--With ♥ thanks to the contributions of<acme-malarkey extra-values=\\\"[\\'Yeoman\\', \\'Gulp\\', \\'Angular\\']\\\"></acme-malarkey>--><!--</p>--><!--</div>--><!--<div class=\\\"col\\\" ng-repeat=\\\"awesomeThing in main.awesomeThings | orderBy:\\'rank\\'\\\">--><!--<div class=\\\"thumbnail\\\">--><!--<img class=\\\"pull-right\\\" ng-src=\\\"assets/images/{{ awesomeThing.logo }}\\\" alt=\\\"{{ awesomeThing.title }}\\\">--><!--<div class=\\\"caption\\\">--><!--<h3>{{ awesomeThing.title }}</h3>--><!--<p>{{ awesomeThing.description }}</p>--><!--<p><a ng-href=\\\"{{ awesomeThing.url }}\\\">{{ awesomeThing.url }}</a></p>--><!--</div>--><!--</div>--><!--</div>--> <!--</div>-->\");}]);"],"sourceRoot":"/source/"}